
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>As de Picas - Apuestas Deportivas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #0f172a;
      color: #ffffff;
    }
    header {
      background-color: #1e293b;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 {
      color: #38bdf8;
    }
    nav a {
      color: white;
      margin-left: 1rem;
      text-decoration: none;
    }
    .container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #1e293b;
      border-radius: 10px;
    }
    input, select, button {
      padding: 0.5rem;
      margin: 0.5rem 0;
      width: 100%;
      border-radius: 5px;
      border: none;
    }
    button {
      background-color: #38bdf8;
      color: black;
      font-weight: bold;
    }
    .hidden {
      display: none;
    }
    .bet-option {
      background-color: #334155;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.8rem;
      background-color: #0f172a;
      color: #94a3b8;
    }
  </style>
</head>
<body>
  <header>
    <h1>As de Picas</h1>
    <nav>
      <a href="#">Inicio</a>
      <a href="#apuestas">Apuestas</a>
      <a href="#perfil">Mi Perfil</a>
    </nav>
  </header>

  <div class="container" id="loginSection">
    <h2>Iniciar sesión / Registrarse</h2>
    <input type="text" id="username" placeholder="Nombre de usuario" />
    <button onclick="login()">Entrar</button>
    <p id="loginMsg"></p>
  </div>

  <div class="container hidden" id="appSection">
    <h2>Bienvenido, <span id="userDisplay"></span></h2>
    <p>Saldo actual: <strong id="balanceDisplay"></strong> puntos</p>

    <hr />
    <h3 id="apuestas">Apuestas disponibles</h3>
    <div id="matchesContainer"></div>

    <h3 id="perfil">Historial de apuestas</h3>
    <ul id="historyList"></ul>

    <button onclick="logout()">Cerrar sesión</button>
  </div>

  <footer>
    © 2025 As de Picas. Plataforma simulada sin apuestas reales.
  </footer>

  <script>
    const cuotas = {
      futbol: [
        { partido: "Barcelona vs Real Madrid", cuota1: 1.85, cuota2: 2.10 },
        { partido: "Liverpool vs Manchester City", cuota1: 2.00, cuota2: 1.90 }
      ],
      beisbol: [
        { partido: "Yankees vs Red Sox", cuota1: 1.95, cuota2: 1.95 },
        { partido: "Dodgers vs Cubs", cuota1: 2.10, cuota2: 1.80 }
      ],
      baloncesto: [
        { partido: "Lakers vs Celtics", cuota1: 1.90, cuota2: 2.00 },
        { partido: "Warriors vs Heat", cuota1: 2.05, cuota2: 1.85 }
      ]
    };

    function login() {
      const username = document.getElementById("username").value;
      if (!username) return alert("Ingresa un nombre de usuario");
      localStorage.setItem("ap_user", username);
      localStorage.setItem("ap_balance", "1000");
      localStorage.setItem("ap_history", "[]");
      loadApp();
    }

    function logout() {
      localStorage.clear();
      location.reload();
    }

    function loadApp() {
      const user = localStorage.getItem("ap_user");
      if (!user) return;
      document.getElementById("loginSection").classList.add("hidden");
      document.getElementById("appSection").classList.remove("hidden");
      document.getElementById("userDisplay").innerText = user;
      document.getElementById("balanceDisplay").innerText = localStorage.getItem("ap_balance");
      loadMatches();
      loadHistory();
    }

    function loadMatches() {
      const container = document.getElementById("matchesContainer");
      container.innerHTML = "";
      for (let deporte in cuotas) {
        cuotas[deporte].forEach((m, i) => {
          const div = document.createElement("div");
          div.className = "bet-option";
          div.innerHTML = `
            <strong>${deporte.toUpperCase()}</strong><br>
            <p>${m.partido}</p>
            <label>Apuesta por:</label>
            <select id="opt_${deporte}_${i}">
              <option value="1">Equipo 1 (cuota ${m.cuota1})</option>
              <option value="2">Equipo 2 (cuota ${m.cuota2})</option>
            </select>
            <input type="number" id="bet_${deporte}_${i}" placeholder="Cantidad a apostar (puntos)" />
            <button onclick="apostar('${deporte}', ${i})">Apostar</button>
          `;
          container.appendChild(div);
        });
      }
    }

    function apostar(deporte, index) {
      const betInput = document.getElementById(`bet_${deporte}_${index}`);
      const opt = document.getElementById(`opt_${deporte}_${index}`).value;
      const amount = parseInt(betInput.value);
      if (!amount || amount <= 0) return alert("Apuesta inválida");
      let balance = parseInt(localStorage.getItem("ap_balance"));
      if (amount > balance) return alert("No tienes suficientes puntos");

      const match = cuotas[deporte][index];
      const cuota = opt == "1" ? match.cuota1 : match.cuota2;
      const ganaste = Math.random() < 0.5;
      const ganancia = ganaste ? Math.floor(amount * cuota) : 0;

      balance = balance - amount + ganancia;
      localStorage.setItem("ap_balance", balance);
      document.getElementById("balanceDisplay").innerText = balance;

      const history = JSON.parse(localStorage.getItem("ap_history"));
      history.unshift(`${match.partido} - Apuesta: ${amount} - ${ganaste ? "Ganaste" : "Perdiste"} - Premio: ${ganancia}`);
      localStorage.setItem("ap_history", JSON.stringify(history));
      loadHistory();
    }

    function loadHistory() {
      const ul = document.getElementById("historyList");
      ul.innerHTML = "";
      const history = JSON.parse(localStorage.getItem("ap_history"));
      history.forEach(item => {
        const li = document.createElement("li");
        li.innerText = item;
        ul.appendChild(li);
      });
    }

    window.onload = loadApp;
  </script>
</body>
</html>
